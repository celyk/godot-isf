[gd_scene load_steps=3 format=3 uid="uid://cbpr4j6ghfmh8"]

[sub_resource type="Shader" id="Shader_u6sjt"]
code = "// Godot Shader generated from ISF (Interactive Shader Format)

shader_type canvas_item;

#include \"res://addons/godot-isf/include/ISF.gdshaderinc\"


// INPUTS 
uniform sampler2D inputImage : source_color;
uniform float level;
uniform vec4 lowColor : source_color;
uniform vec4 highColor : source_color;


// IMPORTED 


// PASSES 


/*{
	\"DESCRIPTION\": \"demonstrates the use of color-type image inputs\",
	\"CREDIT\": \"by zoidberg\",
	\"ISFVSN\": \"2.0\",
	\"CATEGORIES\": [
		\"TEST-GLSL FX\"
	],
	\"INPUTS\": [
		{
			\"NAME\": \"inputImage\",
			\"TYPE\": \"image\"
		},
		{
			\"NAME\": \"level\",
			\"TYPE\": \"float\",
			\"DEFAULT\": 0.5,
			\"MIN\": 0.0,
			\"MAX\": 1.0
		},
		{
			\"NAME\": \"lowColor\",
			\"TYPE\": \"color\",
			\"DEFAULT\": [
				0.0,
				0.0,
				1.0,
				1.0
			]
		},
		{
			\"NAME\": \"highColor\",
			\"TYPE\": \"color\",
			\"DEFAULT\": [
				1.0,
				1.0,
				1.0,
				1.0
			]
		}
	]
}*/

void main()
{
	vec4		srcPixel = IMG_THIS_PIXEL(inputImage);
	vec4		dstPixel = ((srcPixel.r+srcPixel.g+srcPixel.b)/3.0>level) ? lowColor : highColor;
	gl_FragColor = dstPixel;
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_cojrb"]
resource_local_to_scene = true
shader = SubResource("Shader_u6sjt")
shader_parameter/level = 0.5
shader_parameter/lowColor = Color(0, 0, 1, 1)
shader_parameter/highColor = Color(1, 1, 1, 1)

[node name="" type="ColorRect"]
material = SubResource("ShaderMaterial_cojrb")
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 1280.0
offset_bottom = 720.0
